{% extends 'portfolio_app/base.html' %}

{% block title %}Home - My Portfolio{% endblock %}

{% block content %}
    <h2>My Projects</h2>
        <div id="projects">
                <p>Loading projects...</p>
                    </div>

                        <script>
                                async function fetchProjects() {
                                            const response = await fetch('/projects/');
                                                        const projects = await response.json();
                                                                    let output = "<ul>";
                                                                                projects.forEach(project => {
                                                                                                output += `<li><strong>${project.title}</strong>: ${project.description} (<a href="${project.link}" target="_blank">View</a>)</li>`;
                                                                                                            });
                                                                                                                        output += "</ul>";
                                                                                                                                    document.getElementById("projects").innerHTML = output;
                                                                                                                                            }
                                                                                                                                                    window.onload = fetchProjects;
                                                                                                                                                        </script>
                                                                                                                                                        {% endblock %}